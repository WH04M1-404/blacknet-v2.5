import websocket
import json

def execute_ws_action(ip, port, action):
    try:
        ws = websocket.create_connection(f"ws://{ip}:{port}/ws/control")
        payload = json.dumps({ "command": action['command'] })
        ws.send(payload)
        response = ws.recv()
        print(f"[+] WebSocket Response: {response}")
        ws.close()
    except Exception as e:
        print(f"[!] Failed to send WebSocket command: {e}")